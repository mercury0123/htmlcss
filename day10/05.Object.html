<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    
</head>
<body>
    <h1>
        주어진 데이터를 순환하여 원하는 조건에 맞는 정보를 추출
    </h1>
    <ol>
        <li>데이터의 환율 자료에서 통화이름만 가져와 새로운 배열에 출력</li>
        <li>환율의 각 통화 변화율 중 가장 큰 변화를 보인 객체의 정보 출력</li>
        <li>금 시세의 포인트 정보를 분석하여 전일(yesterday) 의 포인트 값을 추정하여 출력</li>
    </ol>
    <script src="05.exchange.js"></script>
    <script>

        //1.데이터의 환율 자료에서 통화이름만 가져와 새로운 배열에 출력
        var prt = '';
        console.log('---각국 통화 이름만 출력---')
        prt = obj.exchanges.forEach(n => {console.log(n.name)});    

        //2.환율의 각 통화 변화율 중 가장 큰 변화를 보인 객체의 정보 출력

        const value = Object.values(obj.exchanges); //obj 객체중 환금시세만 따로 배열화
        // console.log(value); //제대로 배열들어갔는지 확인
        let ratio =[];
        value.forEach(e=>ratio.push(e.down || e.up));  //배열중 down up 값만 추출       
        
        var max =0;
        ratio.forEach(i=>{
            if(i>max){
                max=i;
            }
        });
        console.log('---각국 통화중 가장 큰 변동률 출력---')
        console.log(max);      
        console.log('---각국 통화중 변동률 큰 통화 이름 출력---')
        for(const e of obj.exchanges.entries()){
            if((e[1].down||e[1].up)==max ){
                console.log(e[1]);
            }
        }
        // 3. 금 시세의 포인트 정보를 분석하여 전일(yesterday) 의 포인트 값을 추정하여 출력
        console.log('---국제, 국내 금시세 전일 추정치 출력---');
               
        var result =[];
        
        obj.gold.forEach(i=>{
            var arr=[];
            arr.push(i.name);
            arr.push(i.price-i.down);
            result.push(arr);            
        });
        console.log(result);
    </script>    
</body>
</html>